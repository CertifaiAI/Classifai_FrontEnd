!function(){function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function e(e){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?t(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(null==t)return{};var n,o,i=function(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e,n,o,i,r,a){try{var c=t[r](a),l=c.value}catch(s){return void n(s)}c.done?e(l):Promise.resolve(l).then(o,i)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var r=t.apply(e,n);function a(t){l(r,o,i,a,c,"next",t)}function c(t){l(r,o,i,a,c,"throw",t)}a(void 0)})}}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(l){i=!0,r=l}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8cPH":function(t,e){var n=0,o=0,i=function(t){var e=u(t.split(":"),3),n=e[0],o=e[1],i=e[2];return 60*parseFloat(n)*60+60*parseFloat(o)+parseFloat(i)};t.exports=function(t,e){if("string"==typeof t)if(t.startsWith("  Duration")){var r=t.split(", ")[0].split(": ")[1],a=i(r);e({duration:a,ratio:o}),(0===n||n>a)&&(n=a)}else if(t.startsWith("frame")||t.startsWith("size")){var c=t.split("time=")[1].split(" ")[0],l=i(c);e({ratio:o=l/n,time:l})}else t.startsWith("video:")&&(e({ratio:1}),n=0)}},G9FC:function(t,e){t.exports=function(t,e){var n=t._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach(function(e,o){var i=t._malloc(e.length+1);t.writeAsciiToMemory(e,i),t.setValue(n+Uint32Array.BYTES_PER_ELEMENT*o,i,"i32")}),[e.length,n]}},Ji6A:function(t,e,n){var o=n("PhXl"),i=n("kI6T").log,r=function(){var t=s(regeneratorRuntime.mark(function t(e,n){var o,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i("info","fetch "+e),t.next=3,fetch(e);case 3:return t.next=5,t.sent.arrayBuffer();case 5:return o=t.sent,i("info","".concat(e," file size = ").concat(o.byteLength," bytes")),r=new Blob([o],{type:n}),a=URL.createObjectURL(r),t.abrupt("return",(i("info","".concat(e," blob URL = ").concat(a)),a));case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}();t.exports=function(){var t=s(regeneratorRuntime.mark(function t(e){var n,a,c,l,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof(n=e.corePath)){t.next=3;break}throw Error("corePath should be a string!");case 3:return a=o(n),t.next=6,r(a,"application/javascript");case 6:return c=t.sent,t.next=9,r(a.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm");case 9:return l=t.sent,t.next=12,r(a.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");case 12:return s=t.sent,t.abrupt("return","undefined"==typeof createFFmpegCore?new Promise(function(t){var e=document.createElement("script");e.src=c,e.type="text/javascript",e.addEventListener("load",function n(){e.removeEventListener("load",n),i("info","ffmpeg-core.js script loaded"),t({createFFmpegCore:createFFmpegCore,corePath:c,wasmPath:l,workerPath:s})}),document.getElementsByTagName("head")[0].appendChild(e)}):(i("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore:createFFmpegCore,corePath:c,wasmPath:l,workerPath:s})));case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},PhXl:function(t,e,n){var o,i;void 0===(i="function"==typeof(o=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild);for(var o,i=document.createElement("a"),r=1;r<t;r++)i.href=arguments[r],e.href=o=i.href;return n.removeChild(e),o}})?o.call(e,n,e,t):o)||(t.exports=i)},UdVg:function(t,e,n){"use strict";n.r(e),n.d(e,"VideoLabellingLayoutModule",function(){return dt});var o,r,l,s=n("ofXK"),u=n("KZX/"),h=n("tyNb"),f=n("mrSG"),b=n("fXoL"),d=n("kRDC"),p=((r=function t(){var e=this;c(this,t),this.bolbList=[],this.videoToFrame=function(t,n){return Object(f.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n,o,i,r,a,c,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(d.createFFmpeg)({log:!0,logger:function(t){try{if(console.log("logger: ",t),t.message.includes("Duration")){var e=t.message.split("Duration: ")[1].split(",")[0].split(":").map(function(t){return+t});l.videoDuration={hour:e[0],minute:e[1],second:e[2]}}}catch(n){}},progress:function(t){console.log("progress: ",t)}}),!t){e.next=26;break}return e.next=4,n.load();case 4:if(!(o=t)){e.next=26;break}return e.t0=n,e.next=9,Object(d.fetchFile)(o);case 9:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","in_%02d.mp4",e.t1),e.next=13,n.run("-i","in_%02d.mp4","-qscale:v","5","-vf","fps=1","out_%03d.jpg");case 13:i=1;case 14:e.prev=14,r=String(i).padStart(3,"0"),a=n.FS("readFile","out_".concat(r,".jpg")),c=URL.createObjectURL(new Blob([a.buffer],{type:"image/jpg"})),n.FS("unlink","out_".concat(r,".jpg")),this.bolbList.push({frameURL:c}),console.log(c),e.next=22;break;case 19:return e.prev=19,e.t2=e.catch(14),e.abrupt("break",25);case 22:i++,e.next=14;break;case 25:return e.abrupt("return",!0);case 26:case"end":return e.stop()}},e,this,[[14,19]])}))},this.getBlobList=function(){return e.bolbList}}).\u0275fac=function(t){return new(t||r)},r.\u0275prov=b.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r),v=((o=function(){function t(e,n){var o=this;c(this,t),this.frameExtractionService=e,this.router=n,this.videoSrc=null,this.statusText="",this.doDecode=function(){return Object(f.a)(o,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.videoSrc){t.next=7;break}return e=this.frameExtractionService.videoToFrame(this.videoSrc,10),t.next=4,e;case 4:if(t.t0=t.sent,!t.t0){t.next=7;break}this.statusText="done";case 7:case"end":return t.stop()}},t,this)}))},this.onRedirect=function(){o.router.navigateByUrl("/videolbl/bndbox")}}return a(t,[{key:"ngOnInit",value:function(){}},{key:"handleFileInput",value:function(t){this.videoSrc=t.target.files.item(0)}}]),t}()).\u0275fac=function(t){return new(t||o)(b.Hb(p),b.Hb(h.a))},o.\u0275cmp=b.Bb({type:o,selectors:[["app-video-upload"]],decls:10,vars:1,consts:[["for","file"],["type","file","id","file",3,"change"],[3,"click"]],template:function(t,e){1&t&&(b.Nb(0,"label",0),b.sc(1,"Choose Video"),b.Mb(),b.Nb(2,"input",1),b.Ub("change",function(t){return e.handleFileInput(t)}),b.Mb(),b.Nb(3,"button",2),b.Ub("click",function(){return e.doDecode()}),b.sc(4,"Start"),b.Mb(),b.Nb(5,"button",2),b.Ub("click",function(){return e.onRedirect()}),b.sc(6,"Next"),b.Mb(),b.Nb(7,"p"),b.sc(8),b.Mb(),b.Ib(9,"hr")),2&t&&(b.xb(8),b.tc(e.statusText))},styles:["*[_ngcontent-%COMP%]{background-color:#fff}"]}),o),m=n("fll7"),w=n("GYuA"),y=n("2Vo4"),x={scroll:!1,drag:!1,draw:!1,fitCenter:!1,clear:!1,isActiveModal:!1,save:!1},P=((l=function t(){var e=this;c(this,t),this.actionSubject=new y.a(x),this.action$=this.actionSubject.asObservable(),this.setState=function(t){e.actionSubject.next(t?Object.assign(Object.assign({},x),t):x)}}).\u0275fac=function(t){return new(t||l)},l.\u0275prov=b.Db({token:l,factory:l.\u0275fac,providedIn:"root"}),l),M=n("sYmb");function C(t,e){if(1&t){var n=b.Ob();b.Lb(0),b.Nb(1,"img",4),b.Ub("click",function(){b.lc(n);var t=b.Wb(),e=t.index,o=t.$implicit;return b.Wb().getIndex(e),o.onClick()}),b.Xb(2,"translate"),b.Mb(),b.Kb()}if(2&t){var o=b.Wb(),i=o.$implicit,r=o.index,a=b.Wb();b.xb(1),b.cc("ngClass",a.conditionalIconTheme(!(null==i||!i.nonClickable)))("ngStyle",(null==i?null:i.toggleable)&&a.conditionalActiveIcon(r))("src",i.imgPath,b.nc)("alt",i.alt)("title",b.Yb(2,6,i.hoverLabel)),b.yb("data-index",r)}}function O(t,e){if(1&t&&(b.Lb(0),b.Nb(1,"div",2),b.qc(2,C,3,8,"ng-container",3),b.Mb(),b.Kb()),2&t){var n=e.$implicit;b.xb(2),b.cc("ngIf",n)}}var _,k=((_=function(){function t(e,n){var o=this;c(this,t),this._annotateService=e,this._videoLabelState=n,this.labelList=[],this.bindImagePath=function(){o.jsonSchema={logos:[{imgPath:"assets/icons/separator.svg",hoverLabel:"",alt:"",nonClickable:!0,toggleable:!1,onClick:function(){return null}},{imgPath:"assets/icons/pointer.svg",hoverLabel:"leftSideBar.pointer",alt:"Pointer",toggleable:!0,onClick:function(){return null}},{imgPath:"assets/icons/rec_bounding_box.svg",hoverLabel:"leftSideBar.rectangularBB",alt:"RectangularBB",toggleable:!0,onClick:function(){o.resetSelectedAnnotate(),o._videoLabelState.setState({draw:!0,drag:!1,scroll:!1})}},{imgPath:"assets/icons/eraser.svg",hoverLabel:"leftSideBar.eraser",alt:"Eraser",toggleable:!1,onClick:function(){o.resetSelectedAnnotate(),o._videoLabelState.setState({draw:!1,drag:!1,clear:!0})}},{imgPath:"assets/icons/fit_center.svg",hoverLabel:"leftSideBar.fitCenter",alt:"Fit Center",toggleable:!1,onClick:function(){return null}}]}},this.getIndex=function(t){o.iconIndex=t},this.resetSelectedAnnotate=function(){o._annotateService.setState()},this.conditionalIconTheme=function(t){return t?"plain-icon":"utility-icon-light"},this.conditionalActiveIcon=function(t){return t===o.iconIndex?{background:"rgb(59 59 59)"}:null}}return a(t,[{key:"ngOnInit",value:function(){this.bindImagePath()}},{key:"ngOnChanges",value:function(t){this.bindImagePath()}}]),t}()).\u0275fac=function(t){return new(t||_)(b.Hb(w.a),b.Hb(P))},_.\u0275cmp=b.Bb({type:_,selectors:[["video-labelling-left-sidebar"]],features:[b.vb],decls:2,vars:1,consts:[[1,"utility-left-sidebar-container"],[4,"ngFor","ngForOf"],[1,"utility-icon-container"],[4,"ngIf"],[3,"ngClass","ngStyle","src","alt","title","click"]],template:function(t,e){1&t&&(b.Nb(0,"div",0),b.qc(1,O,3,1,"ng-container",1),b.Mb()),2&t&&(b.xb(1),b.cc("ngForOf",e.jsonSchema.logos))},directives:[s.k,s.l,s.j,s.m],pipes:[M.c],styles:[".utility-left-sidebar-container[_ngcontent-%COMP%]{position:absolute;top:4.5vh;min-width:2.14vw;max-width:2.14vw;min-height:95.4vh;max-height:95.4vh;background:#525353;border:.0625vw solid hsla(0,0%,100%,.25);z-index:1000}.utility-icon-container[_ngcontent-%COMP%]{min-height:5vh;max-height:5vh;align-items:baseline}.utility-icon-light[_ngcontent-%COMP%]{min-width:1.5vw;max-width:1.5vw;min-height:3vh;max-height:3vh;padding:.3vw;position:absolute;cursor:pointer}.utility-icon-light[_ngcontent-%COMP%]:active, .utility-icon-light[_ngcontent-%COMP%]:focus{background:#a9a9a9}.plain-icon[_ngcontent-%COMP%]{min-width:1.5vw;max-width:1.5vw;min-height:3vh;max-height:3vh;padding:.3vw;position:absolute;cursor:auto}"]}),_),j=n("XNiG"),S=n("HDdC"),N=n("D0XW"),F=n("Y7HM"),L=n("z+Ro");function E(t){var e=t.index,n=t.period,o=t.subscriber;if(o.next(e),!o.closed){if(-1===n)return o.complete();t.index=e+1,this.schedule(t,n)}}var I=n("1G5W"),T=["videoTimelineRef"],z=["canvasdrawing"];function A(t,e){if(1&t){var n=b.Ob();b.Nb(0,"img",16),b.Ub("click",function(){return b.lc(n),b.Wb().clickPlay()}),b.Mb()}}function B(t,e){if(1&t){var n=b.Ob();b.Nb(0,"img",17),b.Ub("click",function(){return b.lc(n),b.Wb().clickPause()}),b.Mb()}}function R(t,e){if(1&t&&(b.Nb(0,"div",24),b.sc(1),b.Mb()),2&t){var n=b.Wb().index,o=b.Wb(2);b.cc("ngClass",o.activeFrame===n?"active row":null),b.xb(1),b.uc(" ",n," ")}}function W(t,e){if(1&t){var n=b.Ob();b.Lb(0),b.Nb(1,"td",21),b.qc(2,R,2,2,"div",22),b.Nb(3,"div",23),b.Ub("click",function(){b.lc(n);var t=e.index;return b.Wb(2).onClickVideoTImeline(t)}),b.Mb(),b.Mb(),b.Kb()}if(2&t){var o=e.index,i=b.Wb(),r=i.index,a=i.$implicit,c=b.Wb();b.xb(2),b.cc("ngIf",0==r),b.xb(1),b.cc("ngClass",c.displayFrameIndicator(r,o,a.frame))}}function U(t,e){if(1&t){var n=b.Ob();b.Nb(0,"tr"),b.Nb(1,"td",18),b.Nb(2,"p"),b.sc(3),b.Mb(),b.Mb(),b.Nb(4,"td",19),b.Ub("click",function(){b.lc(n);var t=e.index;return b.Wb().onHide(t)}),b.Ib(5,"img",20),b.Mb(),b.qc(6,W,4,2,"ng-container",15),b.Mb()}if(2&t){var o=e.$implicit,i=e.index,r=b.Wb();b.xb(3),b.tc(o.object),b.xb(2),b.ec("id","eye_",i,""),b.cc("src",o.isShow?r.showDetailsIcon:r.hideDetailsIcon,b.nc),b.xb(1),b.cc("ngForOf",r.totalFrameArr)}}var D,q=((D=function(){function t(e,n){var o=this;c(this,t),this._videoLblStateService=e,this.videoFrameExtractionService=n,this.totalFrameArr=[],this.labelledFrame=[{frame:[5,6,7,8],object:"Person 1",isShow:!0,color:"green"},{frame:[1,2,3,4,7,8,9],object:"Person 2",isShow:!0,color:"yellow"},{frame:[0,1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[5,6,7,8],object:"Person 1",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[5,6,7,8],object:"Person 1",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"},{frame:[1,2,3,4],object:"Person 2",isShow:!0,color:"yellow"}],this._totalFrame=this.totalFrameArr.length,this._onHide=new b.n,this.unsubscribe$=new j.a,this.occupiedSpace=[],this.activeFrame=0,this.activePreview=new Image,this.verticalScroll=!1,this.isPlayingFrame=!1,this.isPausingFrame=!0,this.pauseFrameIndex=0,this.showDetailsIcon="assets/icons/eye_show.svg",this.hideDetailsIcon="assets/icons/eye_hide.svg",this.onScroll=function(t){var e=t.deltaY;if(o.verticalScroll){o.clearCanvas();var n=o._videoTimelineRef.nativeElement.scrollLeft;void 0!==n&&o._videoTimelineRef.nativeElement.scrollTo(Object.assign({},e>0?{left:n+25}:{left:n-25})),e>0?o.activeFrame!==o._totalFrame-1&&(o.activeFrame+=1):0!==o.activeFrame&&(o.activeFrame-=1),o.activePreview.src=o.activeFrame>o.totalFrameArr.length?"":o.totalFrameArr[o.activeFrame].frameURL,o.canvasContext.drawImage(o.activePreview,0,0)}},this.displayFrameIndicator=function(t,e,n){var i="";return n.forEach(function(n){e===n&&(i+=t%2==0?" figure1 ":" figure2 ")}),i+=o.activeFrame===e&&" cursor row",i+=" timelineCell clickable"},this.onClickVideoTImeline=function(t){o.clearCanvas(),o.activeFrame=t,o.activePreview.src=t>o.totalFrameArr.length?"":o.totalFrameArr[t].frameURL,console.log(o.activePreview),o.canvasContext.drawImage(o.activePreview,0,0)},this.clickPlay=function(){o.isPlayingFrame=!0,o.isPausingFrame=!1;for(var t=!0,e=0,n=function(n){(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=-1;return Object(F.a)(e)?o=Number(e)<1?1:Number(e):Object(L.a)(e)&&(n=e),Object(L.a)(n)||(n=N.a),new S.a(function(e){var i=Object(F.a)(t)?t:+t-n.now();return n.schedule(E,i,{index:0,period:o,subscriber:e})})})(100*e).subscribe(function(e){t&&(o.isPausingFrame?(o.isPlayingFrame=!1,t=!1,o.pauseFrameIndex=n,console.log("Pausing...",n)):(console.log("Playing...",n),o.onClickVideoTImeline(n),n===o.totalFrameArr.length-1&&(o.isPlayingFrame=!1,o.isPausingFrame=!0,o.activeFrame=0)))}),e++},i=o.activeFrame;i<o.totalFrameArr.length;i++)n(i)},this.clickPause=function(){o.isPlayingFrame?o.isPausingFrame=!0:o.clickPlay()},this.onHide=function(t){o.labelledFrame[t].isShow=!o.labelledFrame[t].isShow,o._onHide.emit(o.labelledFrame[t])}}return a(t,[{key:"ngOnInit",value:function(){var t=this;this._videoLblStateService.action$.pipe(Object(I.a)(this.unsubscribe$)).subscribe(function(e){var n=e.clear;Object(f.b)(e,["clear","fitCenter"]),n&&t.onEraseBoundingBox()}),this.totalFrameArr=this.videoFrameExtractionService.getBlobList()}},{key:"ngAfterViewInit",value:function(){this.initializeCanvas(),this.activePreview.src=this.totalFrameArr[0].frameURL,this.canvasContext.drawImage(this.activePreview,0,0)}},{key:"ngOnChanges",value:function(t){t._totalFrame.currentValue&&(this.totalFrameArr=i(Array(t._totalFrame.currentValue))),this.canvas&&console.log("CALLED")}},{key:"initializeCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"95%";this.canvas.nativeElement.style.width=t,this.canvas.nativeElement.style.height="45%",this.canvas.nativeElement.width=this.canvas.nativeElement.offsetWidth,this.canvas.nativeElement.height=this.canvas.nativeElement.offsetHeight,this.canvasContext=this.canvas.nativeElement.getContext("2d")}},{key:"onEraseBoundingBox",value:function(){this.clearCanvas(),this.canvasContext.beginPath(),this.canvasContext.drawImage(this.activePreview,0,0)}},{key:"clearCanvas",value:function(){this.canvasContext.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height)}},{key:"testDraw",value:function(){this.canvasContext.drawImage(this.activePreview,0,0)}},{key:"testClear",value:function(){this.canvasContext.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height)}},{key:"getMousePos",value:function(t){var e=this.canvasContext.canvas.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}},{key:"onKeyDown",value:function(t){"ShiftLeft"===t.code&&(this.verticalScroll=!0),"Space"===t.code&&this.clickPause()}},{key:"onReleaseKey",value:function(){this.verticalScroll=!1}},{key:"mouseDown",value:function(t){this.locA=this.getMousePos(t)}},{key:"mouseUp",value:function(t){this.locB=this.getMousePos(t),this.canvasContext.fillStyle="#000000",this.canvasContext.rect(this.locA.x,this.locA.y,this.locB.x-this.locA.x,this.locB.y-this.locA.y),this.canvasContext.strokeStyle="rgba(0,255,0,1.0)",this.canvasContext.lineWidth=2,this.canvasContext.stroke()}}]),t}()).\u0275fac=function(t){return new(t||D)(b.Hb(P),b.Hb(p))},D.\u0275cmp=b.Bb({type:D,selectors:[["video-labelling-object-detection"]],viewQuery:function(t,e){var n;1&t&&(b.xc(T,!0),b.xc(z,!0)),2&t&&(b.ic(n=b.Vb())&&(e._videoTimelineRef=n.first),b.ic(n=b.Vb())&&(e.canvas=n.first))},hostBindings:function(t,e){1&t&&b.Ub("keydown",function(t){return e.onKeyDown(t)},!1,b.kc)("keyup",function(t){return e.onReleaseKey(t)},!1,b.kc)("mousedown",function(t){return e.mouseDown(t)})("mouseup",function(t){return e.mouseUp(t)})},inputs:{_totalFrame:"_totalFrame"},outputs:{_onHide:"_onHide"},features:[b.vb],decls:17,vars:3,consts:[[1,"videoTimelineContainer"],[1,"canvas-container"],[1,"canvasstyle"],["canvasdrawing",""],[1,"control-layout"],[1,"control-container"],[1,"time-container"],[1,"time-label"],[1,"control-icon-container"],["class","control-icon","src","assets/icons/Play.svg","alt","Play",3,"click",4,"ngIf"],["class","control-icon","src","assets/icons/Pause.svg","alt","Pause",3,"click",4,"ngIf"],["id","videoTimeline",1,"videoTimeline",3,"wheel"],["videoTimelineRef",""],[1,"table"],[1,"video-tbody"],[4,"ngFor","ngForOf"],["src","assets/icons/Play.svg","alt","Play",1,"control-icon",3,"click"],["src","assets/icons/Pause.svg","alt","Pause",1,"control-icon",3,"click"],[1,"label-display"],[1,"eye-display",3,"click"],[3,"id","src"],[1,"tableTiming"],[3,"ngClass",4,"ngIf"],[3,"ngClass","click"],[3,"ngClass"]],template:function(t,e){1&t&&(b.Nb(0,"div",0),b.Nb(1,"div",1),b.Ib(2,"canvas",2,3),b.Mb(),b.Nb(4,"div",4),b.Nb(5,"div",5),b.Nb(6,"div",6),b.Nb(7,"label",7),b.sc(8,"00:00:00"),b.Mb(),b.Mb(),b.Nb(9,"div",8),b.qc(10,A,1,0,"img",9),b.qc(11,B,1,0,"img",10),b.Mb(),b.Mb(),b.Mb(),b.Nb(12,"div",11,12),b.Ub("wheel",function(t){return e.onScroll(t)}),b.Nb(14,"table",13),b.Nb(15,"tbody",14),b.qc(16,U,7,4,"tr",15),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&t&&(b.xb(10),b.cc("ngIf",!e.isPlayingFrame),b.xb(1),b.cc("ngIf",e.isPlayingFrame),b.xb(5),b.cc("ngForOf",e.labelledFrame))},directives:[s.l,s.k,s.j],styles:[".videoTimelineContainer[_ngcontent-%COMP%]{height:100%;right:0;z-index:1000;width:97.8%;padding-top:2px;padding-right:60px;padding-left:2.2vw}.canvas-container[_ngcontent-%COMP%]{height:54vh}.active-frame-container[_ngcontent-%COMP%]{padding:38px;display:flex;justify-content:center}.videoTimeline[_ngcontent-%COMP%]{display:flex;text-align:center;font-size:12px;height:100%;overflow:hidden;background-color:#525353}.video-tbody[_ngcontent-%COMP%]{display:block;overflow:auto;height:300px;width:100%}.activeFrame[_ngcontent-%COMP%]{width:960px;height:480px}.timelineCell[_ngcontent-%COMP%]{border-radius:4px;display:inline-block;width:28px;height:20px;box-sizing:border-box;border:1px solid #121212;line-height:20px;font-size:11px;color:#1f2428;position:relative}.clickable[_ngcontent-%COMP%]{cursor:pointer}.clickable[_ngcontent-%COMP%]:hover{background-color:#293540}.figure1[_ngcontent-%COMP%]{background:#00f;border-width:0}.figure2[_ngcontent-%COMP%]{background:green;border-width:0}.cursor[_ngcontent-%COMP%]{border:2px solid red}.table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}.active[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:red;background:#121212}.row[_ngcontent-%COMP%]{width:28px;padding:0;text-align:center;margin-bottom:4px}.tableTiming[_ngcontent-%COMP%]{font-size:10px;vertical-align:middle;color:snow;height:28px;width:28px}.control-container[_ngcontent-%COMP%], .control-layout[_ngcontent-%COMP%]{background-color:#525353}.control-container[_ngcontent-%COMP%]{padding:.7vh 1vw 0 .5vw;border-bottom:1px solid #000;height:5vh;width:9.6vw;display:flex}.control-icon-container[_ngcontent-%COMP%]{padding:0 .4vw}.control-icon[_ngcontent-%COMP%]{padding-top:.5vh;height:70%}.time-container[_ngcontent-%COMP%]{padding-right:1vw}.time-label[_ngcontent-%COMP%]{font-size:1.7vw;color:#768dff}.label-display[_ngcontent-%COMP%]{width:7.5vw;color:#fff;text-align:left}.eye-display[_ngcontent-%COMP%]{width:50px;color:#fff;border-right:2px solid #000;padding-right:1vh}.canvasstyle[_ngcontent-%COMP%]{position:fixed;left:2.2vw;right:auto;top:8vh;overflow:scroll;scrollbar-width:none;margin:0;padding:0;outline:none;border:3px solid #fff}"]}),D);function X(t,e){if(1&t&&(b.Lb(0),b.Nb(1,"div",3),b.Nb(2,"label"),b.Nb(3,"img",4),b.Ub("click",function(){return e.$implicit.onClick()}),b.Xb(4,"translate"),b.Mb(),b.Mb(),b.Mb(),b.Kb()),2&t){var n=e.$implicit,o=e.index,i=b.Wb();b.xb(3),b.pc(n.style),b.cc("ngClass",i.conditionalIconTheme())("src",n.imgPath,b.nc)("alt",n.alt)("title",b.Yb(4,7,n.hoverLabel)),b.yb("data-index",o)}}var G,H=((G=function(){function t(){var e=this;c(this,t),this._onClick=new b.n,this.isFolderTabOpen=!1,this.conditionalIconTheme=function(){return"utility-icon-light"},this.jsonSchema={logos:[{imgPath:"assets/icons/folder.svg",hoverLabel:"rightSideBar.folderOrFiles",alt:"Folder",onClick:function(){return e._onClick.emit({name:"project",closed:!1})}},{imgPath:"assets/icons/tag.svg",hoverLabel:"rightSideBar.label",alt:"Label",onClick:function(){return e._onClick.emit({name:"label",closed:!1})}},{imgPath:"assets/icons/bounding_box.svg",hoverLabel:"rightSideBar.annotation",alt:"Annotation",onClick:function(){return e._onClick.emit({name:"annotation",closed:!1})}},{imgPath:"assets/icons/statistic.svg",hoverLabel:"rightSideBar.statistic",alt:"Statistic",onClick:function(){return null}},{imgPath:"assets/icons/export.svg",hoverLabel:"rightSideBar.export",alt:"Export",style:"padding: 1.5vh 0.5vw;",onClick:function(){return null}},{imgPath:"assets/icons/reload.svg",hoverLabel:"rightSideBar.reload",alt:"Reload",style:"padding: 1.5vh 0.5vw;",onClick:function(){return null}}]}}return a(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||G)},G.\u0275cmp=b.Bb({type:G,selectors:[["video-labelling-right-sidebar"]],outputs:{_onClick:"_onClick"},decls:3,vars:1,consts:[[1,"utility-right-sidebar-container"],[1,"utility-inner-container"],[4,"ngFor","ngForOf"],[1,"utility-icon-container"],[3,"ngClass","src","alt","title","click"]],template:function(t,e){1&t&&(b.Nb(0,"div",0),b.Nb(1,"div",1),b.qc(2,X,5,9,"ng-container",2),b.Mb(),b.Mb()),2&t&&(b.xb(2),b.cc("ngForOf",e.jsonSchema.logos))},directives:[s.k,s.j],pipes:[M.c],styles:[".utility-right-sidebar-container[_ngcontent-%COMP%]{position:absolute;top:4.5vh;min-width:2.2vw;max-width:2.2vw;min-height:95.5vh;max-height:95.5vh;background:#525353;border:.0625vw solid hsla(0,0%,100%,.25);z-index:1000}.utility-inner-container[_ngcontent-%COMP%]{min-width:2.2vw;max-width:2.2vw;position:absolute}.utility-icon-container[_ngcontent-%COMP%], .utility-inner-container[_ngcontent-%COMP%]{min-height:5vh;max-height:5vh}.utility-icon-light[_ngcontent-%COMP%]{min-width:1.5vw;max-width:1.5vw;min-height:3vh;max-height:3vh;padding:.3vw;position:absolute;cursor:pointer}.utility-icon-light[_ngcontent-%COMP%]:active, .utility-icon-light[_ngcontent-%COMP%]:focus{background:#a9a9a9}.input-none[_ngcontent-%COMP%]{display:none}"]}),G),K=n("Muja"),V=function(t,e){return{i:t,tab:e}};function Y(t,e){if(1&t&&(b.Lb(0),b.Nb(1,"div",9),b.Jb(2,10),b.Mb(),b.Kb()),2&t){var n=e.$implicit,o=e.index,i=b.Wb(2),r=b.jc(2),a=b.jc(4);b.xb(1),b.cc("ngClass",i.checkCloseToggle(n)),b.yb("data-index",o),b.xb(1),b.cc("ngTemplateOutlet",0===o?r:a)("ngTemplateOutletContext",b.hc(4,V,o,n))}}function $(t,e){if(1&t&&(b.Nb(0,"div",7),b.qc(1,Y,3,7,"ng-container",8),b.Mb()),2&t){var n=b.Wb();b.xb(1),b.cc("ngForOf",n._tabStatus)}}function J(t,e){if(1&t){var n=b.Ob();b.Nb(0,"label",11),b.sc(1),b.Xb(2,"translate"),b.Mb(),b.Nb(3,"div",12),b.Nb(4,"span",13),b.Nb(5,"div",14),b.Ub("click",function(){b.lc(n);var t=e.tab;return b.Wb().onClose(t)}),b.sc(6,"\u2716"),b.Mb(),b.Mb(),b.Mb(),b.Nb(7,"div",15,16),b.Nb(9,"div",17),b.Nb(10,"p"),b.sc(11,"project"),b.Mb(),b.Nb(12,"p"),b.sc(13,"project"),b.Mb(),b.Nb(14,"p"),b.sc(15,"project"),b.Mb(),b.Nb(16,"p"),b.sc(17,"project"),b.Mb(),b.Nb(18,"p"),b.sc(19,"project"),b.Mb(),b.Nb(20,"p"),b.sc(21,"project"),b.Mb(),b.Nb(22,"p"),b.sc(23,"project"),b.Mb(),b.Nb(24,"p"),b.sc(25,"project"),b.Mb(),b.Nb(26,"p"),b.sc(27,"project"),b.Mb(),b.Nb(28,"p"),b.sc(29,"project"),b.Mb(),b.Nb(30,"p"),b.sc(31,"project"),b.Mb(),b.Nb(32,"p"),b.sc(33,"project"),b.Mb(),b.Nb(34,"p"),b.sc(35,"project"),b.Mb(),b.Nb(36,"p"),b.sc(37,"project"),b.Mb(),b.Nb(38,"p"),b.sc(39,"project"),b.Mb(),b.Mb(),b.Mb()}if(2&t){var o=e.tab;b.xb(1),b.uc(" ",b.Yb(2,1,o.name)," ")}}function Z(t,e){if(1&t&&b.Jb(0,10),2&t){var n=e.i,o=e.tab;b.Wb();var i=b.jc(6),r=b.jc(8);b.cc("ngTemplateOutlet",1===n?i:r)("ngTemplateOutletContext",b.hc(2,V,n,o))}}function Q(t,e){if(1&t){var n=b.Ob();b.Nb(0,"label",11),b.sc(1),b.Xb(2,"translate"),b.Mb(),b.Nb(3,"div",12),b.Nb(4,"span",13),b.Nb(5,"div",14),b.Ub("click",function(){b.lc(n);var t=e.tab;return b.Wb().onClose(t)}),b.sc(6,"\u2716"),b.Mb(),b.Mb(),b.Mb(),b.Nb(7,"div",18),b.Nb(8,"div",17),b.Nb(9,"p"),b.sc(10,"label"),b.Mb(),b.Nb(11,"p"),b.sc(12,"label"),b.Mb(),b.Nb(13,"p"),b.sc(14,"label"),b.Mb(),b.Nb(15,"p"),b.sc(16,"label"),b.Mb(),b.Nb(17,"p"),b.sc(18,"label"),b.Mb(),b.Nb(19,"p"),b.sc(20,"label"),b.Mb(),b.Nb(21,"p"),b.sc(22,"label"),b.Mb(),b.Nb(23,"p"),b.sc(24,"label"),b.Mb(),b.Nb(25,"p"),b.sc(26,"label"),b.Mb(),b.Nb(27,"p"),b.sc(28,"label"),b.Mb(),b.Nb(29,"p"),b.sc(30,"label"),b.Mb(),b.Nb(31,"p"),b.sc(32,"label"),b.Mb(),b.Nb(33,"p"),b.sc(34,"label"),b.Mb(),b.Nb(35,"p"),b.sc(36,"label"),b.Mb(),b.Nb(37,"p"),b.sc(38,"label"),b.Mb(),b.Mb(),b.Mb()}if(2&t){var o=e.tab;b.xb(1),b.tc(b.Yb(2,1,o.name))}}var tt=function(t){return{annotation:t}};function et(t,e){if(1&t&&(b.Lb(0),b.Jb(1,10),b.Kb()),2&t){var n=e.$implicit;b.Wb(3);var o=b.jc(10),i=b.jc(12);b.xb(1),b.cc("ngTemplateOutlet",n.bnd_box?o:i)("ngTemplateOutletContext",b.gc(2,tt,n))}}function nt(t,e){if(1&t&&(b.Lb(0),b.qc(1,et,2,4,"ng-container",8),b.Kb()),2&t){var n=b.Wb().tab;b.xb(1),b.cc("ngForOf",n.annotation)}}function ot(t,e){if(1&t){var n=b.Ob();b.Nb(0,"label",11),b.sc(1),b.Xb(2,"translate"),b.Mb(),b.Nb(3,"div",12),b.Nb(4,"span",13),b.Nb(5,"div",14),b.Ub("click",function(){b.lc(n);var t=e.tab;return b.Wb().onClose(t)}),b.sc(6,"\u2716"),b.Mb(),b.Mb(),b.Mb(),b.Nb(7,"div",19),b.Nb(8,"div",17),b.Nb(9,"div",20),b.qc(10,nt,2,1,"ng-container",21),b.Mb(),b.Mb(),b.Mb()}if(2&t){var o=e.tab;b.xb(1),b.tc(b.Yb(2,2,o.name)),b.xb(9),b.cc("ngIf",null==o?null:o.annotation)}}function it(t,e){1&t&&(b.Lb(0),b.Nb(1,"div",17),b.Nb(2,"p"),b.sc(3,"project"),b.Mb(),b.Nb(4,"p"),b.sc(5,"project"),b.Mb(),b.Nb(6,"p"),b.sc(7,"project"),b.Mb(),b.Nb(8,"p"),b.sc(9,"project"),b.Mb(),b.Nb(10,"p"),b.sc(11,"project"),b.Mb(),b.Nb(12,"p"),b.sc(13,"project"),b.Mb(),b.Nb(14,"p"),b.sc(15,"project"),b.Mb(),b.Nb(16,"p"),b.sc(17,"project"),b.Mb(),b.Nb(18,"p"),b.sc(19,"project"),b.Mb(),b.Nb(20,"p"),b.sc(21,"project"),b.Mb(),b.Nb(22,"p"),b.sc(23,"project"),b.Mb(),b.Nb(24,"p"),b.sc(25,"project"),b.Mb(),b.Nb(26,"p"),b.sc(27,"project"),b.Mb(),b.Nb(28,"p"),b.sc(29,"project"),b.Mb(),b.Nb(30,"p"),b.sc(31,"project"),b.Mb(),b.Mb(),b.Kb())}function rt(t,e){1&t&&(b.Lb(0),b.Nb(1,"div",17),b.Nb(2,"p"),b.sc(3,"project"),b.Mb(),b.Nb(4,"p"),b.sc(5,"project"),b.Mb(),b.Nb(6,"p"),b.sc(7,"project"),b.Mb(),b.Nb(8,"p"),b.sc(9,"project"),b.Mb(),b.Nb(10,"p"),b.sc(11,"project"),b.Mb(),b.Nb(12,"p"),b.sc(13,"project"),b.Mb(),b.Nb(14,"p"),b.sc(15,"project"),b.Mb(),b.Nb(16,"p"),b.sc(17,"project"),b.Mb(),b.Nb(18,"p"),b.sc(19,"project"),b.Mb(),b.Nb(20,"p"),b.sc(21,"project"),b.Mb(),b.Nb(22,"p"),b.sc(23,"project"),b.Mb(),b.Nb(24,"p"),b.sc(25,"project"),b.Mb(),b.Nb(26,"p"),b.sc(27,"project"),b.Mb(),b.Nb(28,"p"),b.sc(29,"project"),b.Mb(),b.Nb(30,"p"),b.sc(31,"project"),b.Mb(),b.Mb(),b.Kb())}var at,ct,lt,st,ut,gt=((at=function(){function t(){var e=this;c(this,t),this._tabStatus=[],this._onClose=new b.n,this.isTabStillOpen=!0,this.onClose=function(t){e._onClose.emit(t)},this.checkCloseToggle=function(t){var n="";return"label"===t.name&&e._tabStatus[2].closed||"project"===t.name&&e._tabStatus[1].closed&&e._tabStatus[2].closed||"annotation"===t.name||(n="flex-content"),t.closed&&(n+=" closed"),n},this.checkStateEqual=function(t,e){return!Object(K.a)(t,e)}}return a(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){if(t._tabStatus&&this.checkStateEqual(t._tabStatus.currentValue,t._tabStatus.previousValue)){this.isTabStillOpen=!1;var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=g(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}(this._tabStatus);try{for(n.s();!(e=n.n()).done;)if(!e.value.closed){this.isTabStillOpen=!0;break}}catch(o){n.e(o)}finally{n.f()}}}}]),t}()).\u0275fac=function(t){return new(t||at)},at.\u0275cmp=b.Bb({type:at,selectors:[["video-labelling-project"]],inputs:{_tabStatus:"_tabStatus"},outputs:{_onClose:"_onClose"},features:[b.vb],decls:13,vars:1,consts:[["class","tab-container",4,"ngIf"],["thumbnailTab",""],["nonThumbnailTab",""],["labelTab",""],["annotationTab",""],["boundingBox",""],["polygon",""],[1,"tab-container"],[4,"ngFor","ngForOf"],[1,"utility-right-project-container","tab","flex-fill-remaining",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tab-name"],[1,"flex-tab-icons"],[1,"tab-close-thumbnailless"],[1,"div-close",3,"click"],["id","thumbnailList",1,"utility-inner-container","tab-height","scroll"],["thumbnailList",""],[1,"flex-item"],["id","inner-container",1,"utility-inner-container","tab-height","scroll"],["id","inner-container",1,"utility-inner-container","scroll","tab-smaller-height"],[1,"flex-center-width"],[4,"ngIf"]],template:function(t,e){1&t&&(b.qc(0,$,2,1,"div",0),b.qc(1,J,40,3,"ng-template",null,1,b.rc),b.qc(3,Z,1,5,"ng-template",null,2,b.rc),b.qc(5,Q,39,3,"ng-template",null,3,b.rc),b.qc(7,ot,11,4,"ng-template",null,4,b.rc),b.qc(9,it,32,0,"ng-template",null,5,b.rc),b.qc(11,rt,32,0,"ng-template",null,6,b.rc)),2&t&&b.cc("ngIf",e.isTabStillOpen)},directives:[s.l,s.k,s.j,s.o],pipes:[M.c],styles:['.tab-container[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:100%;right:0;position:fixed;min-width:18.5vw;max-width:18.5vw}.utility-right-project-container[_ngcontent-%COMP%]{height:100%;min-width:16.3vw;max-width:16.3vw;background:#383535;border:.0325vw solid hsla(0,0%,100%,.25);border-top:none;z-index:1000;align-items:stretch}.utility-right-project-container[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;min-width:8.5vw;max-width:8.5vw;min-height:4vh;max-height:4vh;background:#383535;z-index:-1;font-size:1.5vh;line-height:3vh;color:#fff;padding:.5vh 0 0 2vw}.tab[_ngcontent-%COMP%]{position:sticky;overflow:hidden}.tab[_ngcontent-%COMP%]:before{position:absolute;content:"";top:4vh;min-width:100vw;max-width:100vw;min-height:93vh;max-height:93vh;background:#383535;z-index:-1}.flex-fixed[_ngcontent-%COMP%]{flex:0 1 25vh}.flex-fill-remaining[_ngcontent-%COMP%]{flex:1 1 auto}.flex-content[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:33%;min-height:10%;flex-shrink:0;flex-grow:0;resize:vertical}.tab-name[_ngcontent-%COMP%]{font-size:1.7vh;padding:.5vw 2vw 0 1vw;display:inline-block;color:#fff;position:absolute}.tab-close-thumbnail[_ngcontent-%COMP%]{margin-left:3vw;justify-content:center}.tab-close-thumbnail[_ngcontent-%COMP%], .tab-close-thumbnailless[_ngcontent-%COMP%]{float:right;vertical-align:middle;min-height:4vh;max-height:4vh;color:#696969;font-size:1.8vh;line-height:4vh;text-align:center;display:inline-grid;padding-bottom:1vh}.tab-close-thumbnailless[_ngcontent-%COMP%]{flex:1 0 60%;justify-content:right}.div-close[_ngcontent-%COMP%]{margin-right:.5vw;min-width:1.6vw;max-width:1.6vw;min-height:4vh;max-height:4vh;color:#fff;cursor:pointer;text-align:center;float:right}.div-close[_ngcontent-%COMP%]:active{background:grey}.utility-inner-container[_ngcontent-%COMP%]{padding:2.5vh 0 0 .2vw;scroll-behavior:smooth;overflow:hidden auto;z-index:100;min-width:15.5vw;max-width:15.5vw}.tab-height[_ngcontent-%COMP%]{height:85%}.tab-smaller-height[_ngcontent-%COMP%]{height:60%}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#000}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5vw}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#525353}.img-container[_ngcontent-%COMP%], .utility-icon-container[_ngcontent-%COMP%]{min-height:5vh;max-height:5vh}.img-container[_ngcontent-%COMP%]{font-size:1.5vh;color:#fff;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;cursor:pointer;margin:0 .3vw;padding:.1vh .4vw}.img-container[_ngcontent-%COMP%]:hover{background-color:#444;border-radius:2px}.img-selected[_ngcontent-%COMP%]{background:#555}.img[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block}.img[_ngcontent-%COMP%], .img-skeleton[_ngcontent-%COMP%]{max-height:4.3vh;min-height:4.3vh;max-width:3vw}.img-skeleton[_ngcontent-%COMP%]{min-width:3vw;border:.005vh dotted #525353}.img-name[_ngcontent-%COMP%]{margin-left:.5vw;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.closed[_ngcontent-%COMP%]{display:none}.utility-icon-dark[_ngcontent-%COMP%], .utility-icon-light[_ngcontent-%COMP%]{min-width:1.5vw;max-width:1.5vw;min-height:3vh;max-height:3vh;padding:.3vw;position:absolute}.flex-item[_ngcontent-%COMP%]{align-items:center;flex-direction:column;font-size:1.5vh;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.flex-center-width[_ngcontent-%COMP%], .flex-item[_ngcontent-%COMP%]{display:flex;justify-content:center}.flex-center-width[_ngcontent-%COMP%]{width:90%;flex-wrap:wrap}.label[_ngcontent-%COMP%]{flex:1 1 80%;display:flex;justify-content:flex-start;margin:.25vh 0}.pointer[_ngcontent-%COMP%]{cursor:pointer}.annotation-active[_ngcontent-%COMP%], .label-active[_ngcontent-%COMP%]{border:.15vw solid #ff0}.utility-info-btn[_ngcontent-%COMP%]{font-size:1vw;min-width:0;max-width:0;min-height:2.5vh;max-height:2.5vh;line-height:0;right:21vh;position:absolute;background:#383535;border:none;color:#fff}.flex-tab-icons[_ngcontent-%COMP%]{display:flex;width:100%}.extra-icons[_ngcontent-%COMP%]{cursor:pointer}.extra-icons[_ngcontent-%COMP%]:active{background:grey}.tab-extra-icons[_ngcontent-%COMP%]{float:right;vertical-align:middle;font-size:1.7vh;line-height:4vh;text-align:center;color:#fff;flex:1 0 15%;justify-content:flex-start}.tab-text[_ngcontent-%COMP%]{font-size:1.7vh;min-width:6vw;max-width:6vw}.inner-content[_ngcontent-%COMP%]{max-height:25vh;min-height:25vh;min-width:3vw;max-width:3vw}.div-input[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:.5vh .9vw}.input[_ngcontent-%COMP%]{border-radius:8vw;border:none;outline:none;padding:.3vw 0 .3vw 1vw;min-height:1.5vh;max-height:1.5vh;min-width:13vw;max-width:13vw;font-size:1.3vh;background:#525353;color:#fff}.input-invalid[_ngcontent-%COMP%]{border:.2vw solid red}.img-path[_ngcontent-%COMP%]{margin-top:4vh}.indicator[_ngcontent-%COMP%]{background-color:#75fe7c}.indicator[_ngcontent-%COMP%], .no-indicator[_ngcontent-%COMP%]{height:1vh;width:.5vw;border-radius:50%;position:relative}.no-indicator[_ngcontent-%COMP%]{background-color:#ffba54}.not-exist[_ngcontent-%COMP%]{font-size:1.5vh;color:#999}.delete-annotation[_ngcontent-%COMP%], .delete-label[_ngcontent-%COMP%]{position:absolute;right:2vw}.open-all-tabs[_ngcontent-%COMP%]{cursor:pointer;padding:.2vh .2vw;border-radius:.7vw}.open-all-tabs[_ngcontent-%COMP%]:hover{background:#636363}.open-all-tabs[_ngcontent-%COMP%]:active, .open-all-tabs[_ngcontent-%COMP%]:focus{background:#737474}.tab-skeleton[_ngcontent-%COMP%]{position:absolute;height:100vh;width:16.5vw;background:#525353;border-left:.0625vw solid hsla(0,0%,100%,.25);text-align:center;color:#cac8c8;font-size:2vh}.choose-tab[_ngcontent-%COMP%]{margin-top:42vh}.thumbnail-actions[_ngcontent-%COMP%]{text-align:end;padding-right:1vw;width:10vw}.thumbnail-actions-icon[_ngcontent-%COMP%]{border-radius:50%;padding:.2vh}.thumbnail-actions-icon[_ngcontent-%COMP%]:hover{background:#555}']}),at),ht=[{path:"",component:(ct=function(){function t(){var e=this;c(this,t),this.tabStatus=[{name:"project",closed:!1},{name:"label",closed:!1},{name:"annotation",closed:!1}],this.onToggleTab=function(t){e.tabStatus.forEach(function(e){e.name===t.name&&(e.closed=!e.closed)})}}return a(t,[{key:"ngOnInit",value:function(){}}]),t}(),ct.\u0275fac=function(t){return new(t||ct)},ct.\u0275cmp=b.Bb({type:ct,selectors:[["app-video-labelling-layout"]],decls:8,vars:1,consts:[[1,"layout-container"],[1,"content-container"],[3,"_onClick"],[3,"_tabStatus","_onClose"]],template:function(t,e){1&t&&(b.Nb(0,"div",0),b.Nb(1,"div"),b.Ib(2,"page-header"),b.Mb(),b.Nb(3,"div",1),b.Ib(4,"video-labelling-left-sidebar"),b.Ib(5,"video-labelling-object-detection"),b.Nb(6,"video-labelling-right-sidebar",2),b.Ub("_onClick",function(t){return e.onToggleTab(t)}),b.Mb(),b.Nb(7,"video-labelling-project",3),b.Ub("_onClose",function(t){return e.onToggleTab(t)}),b.Mb(),b.Mb(),b.Mb()),2&t&&(b.xb(7),b.cc("_tabStatus",e.tabStatus))},directives:[m.a,k,q,H,gt],styles:['.layout-container[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.content-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-width:97.8vw;max-width:97.8vw}.modal-button[_ngcontent-%COMP%]{line-height:1vh;font-size:1vw;padding:.5vw;background:#262a2e;color:azure}.close-button[_ngcontent-%COMP%]{border:none;cursor:pointer}.float-right[_ngcontent-%COMP%]{float:right}.font-title[_ngcontent-%COMP%]{font-size:1.7vw}.font-label[_ngcontent-%COMP%]{line-height:4vh;font-size:1vw;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.main-label-container[_ngcontent-%COMP%]{min-width:35vw;max-width:35vw}.main-label-container[_ngcontent-%COMP%], .sub-label-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.sub-label-container[_ngcontent-%COMP%]{min-width:40vw;max-width:40vw}.sub-label-flex-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 100%;min-width:0}.static-select[_ngcontent-%COMP%]{min-height:4vh;max-height:4vh;min-width:10vw;max-width:10vw;line-height:3vh;font-size:.9vw;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:5vh;margin:0;-moz-text-align-last:center;text-align-last:center;background:#262a2e;color:#fff;box-shadow:inset -.5vw 6.25vw 1vw 0 rgba(0,0,0,.2),inset -.5vw -.5vw 1vw 0 hsla(0,0%,100%,.4)}.static-select[_ngcontent-%COMP%]:hover{box-shadow:inset -.375vw -.375vw .625vw 0 rgba(0,0,0,.2),inset .375vw .375vw .625vw 0 hsla(0,0%,100%,.5)}.static-select[_ngcontent-%COMP%]:active{box-shadow:inset .375vw .375vw .625vw 0 rgba(0,0,0,.2),inset -.375vw -.375vw .625vw 0 hsla(0,0%,100%,.5)}.static-input[_ngcontent-%COMP%]{min-height:4vh;max-height:4vh;min-width:10vw;max-width:10vw;line-height:3vh;font-size:.9vw;border-radius:2vw;border:none;outline:none;background-color:#363636;color:#fff;padding:0 1vw}.hr-line[_ngcontent-%COMP%]{margin:5vh 0}.sub-label-padding[_ngcontent-%COMP%]{padding:0 0 2vh}.validate-msg[_ngcontent-%COMP%]{color:red;font-size:1vw}.flex-first[_ngcontent-%COMP%]{flex:1 1 35%}.flex-second[_ngcontent-%COMP%]{flex:1 1 55%}.flex-third[_ngcontent-%COMP%]{flex:0 0 5%}.flex-fourth[_ngcontent-%COMP%]{line-height:1vh;font-size:1vw;padding:.5vw;background:#262a2e;color:azure;flex:0 0 5%}.modal[_ngcontent-%COMP%]{z-index:1000;padding-top:10vh;top:0;width:100%;height:100%;overflow:auto;background-color:transparent;scrollbar-width:none;position:fixed;background:rgba(0,0,0,.8)}.modal-content[_ngcontent-%COMP%]{background-color:#525353;padding:1vw;max-width:20vw;min-width:20vw;border-radius:1vw;margin:15vh auto auto}.modal-content-container[_ngcontent-%COMP%]{margin-left:1.3vw}.modal-content-header[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:3vh}.modal-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1vw 1vw 1vw 2vw}.modal-button-cancel[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.export-content-container[_ngcontent-%COMP%]{margin-left:.5vw}.button-style[_ngcontent-%COMP%]{border-radius:1vh;border:none;outline:none;color:#fff;cursor:pointer}.confg-btn[_ngcontent-%COMP%]{margin-right:.7vw}.confg-btn[_ngcontent-%COMP%], .confgdata-btn[_ngcontent-%COMP%]{padding:1vh .5vw;background-color:#2d8ceb;font-size:2vh;min-width:7.5vw}.cancel-btn[_ngcontent-%COMP%], .with-data[_ngcontent-%COMP%]{font-size:1.5vh}.cancel-btn[_ngcontent-%COMP%]{padding:1vh 1vw;background-color:#444}.error-msg[_ngcontent-%COMP%]{padding-top:1vh;font-size:2vh}.help-icon[_ngcontent-%COMP%]{height:3vh}.help-icon-container[_ngcontent-%COMP%]{padding-right:1vw;padding-left:.4vw}.help-icon-container[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:15vw;background-color:#000;color:#fff;text-align:left;border-radius:6px;padding:1vh .5vw;position:absolute;top:65%;margin-left:-60px;text-align:justify;text-justify:inter-word}.help-icon-container[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.message[_ngcontent-%COMP%]{font-size:1vw;overflow-wrap:break-word}.modal-message-container[_ngcontent-%COMP%]{padding-right:3.5vw}.break[_ngcontent-%COMP%]{overflow-wrap:break-word}.save-format-list[_ngcontent-%COMP%]{left:0;top:0;width:100%;height:100%;overflow:auto}.save-format-content[_ngcontent-%COMP%]{margin:auto;padding:10px}.switch-container[_ngcontent-%COMP%]{font-size:small;align-content:center;text-align:center}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:4em;height:1.8em;margin-left:auto;margin-right:auto}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#000;background-size:100% 100%;background-position:50%}.switch[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(2.2em)}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.8s}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:1.6em;width:1.6em;left:.14em;bottom:.15em;background-color:snow;transition:.8s}.switch[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:1.2em}.switch[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]:before{border-radius:50%}.switch[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:8px;margin-top:.5em;outline:none}.switch-2[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2.5em;height:1.2em;margin-left:auto;margin-right:auto}.switch-2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch-2[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#000;background-size:100% 100%;background-position:50%}.switch-2[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(1.5em)}.switch-2[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.5s}.switch-2[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:1.2em;width:1.2em;left:.14em;background-color:snow;transition:.5s}.switch-2[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{border-radius:1.2em}.switch-2[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]:before{border-radius:50%}.switch-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:8px;margin-top:.5em;outline:none}.no-margin-left[_ngcontent-%COMP%]{margin-left:0}.space-verticle[_ngcontent-%COMP%]{background-color:transparent;outline:none;border:none;margin-left:1.5em;margin-right:1.5em}.save-format-btn[_ngcontent-%COMP%]{width:90%;height:6em;margin-top:2%;margin-bottom:2%;margin-left:4.5%;background:#000;background-size:100% 100%;background-position:50%;font-size:medium;outline:none;border:none;color:snow;overflow:hidden;border-radius:5px}.save-format-btn[_ngcontent-%COMP%]:hover{text-shadow:0 0 30px #888;box-shadow:5px 5px 10px #888,-5px -5px 10px #888;cursor:pointer}.save-format-btn[_ngcontent-%COMP%]:active:hover{border:3px dashed green}.adv-settings[_ngcontent-%COMP%]{padding:1vh;margin:1vh 1.5vw;color:#ccc;font-size:.6vw;cursor:pointer;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:#30353a;border-radius:.5vh;float:right}.adv-settings[_ngcontent-%COMP%]:hover{background:#373d42}.modal-adv-container[_ngcontent-%COMP%]{margin:1vh 1vw}.modal-adv-instruction[_ngcontent-%COMP%]{color:#fff;opacity:.5}.modal-adv-label[_ngcontent-%COMP%]{font-size:1.5vh;margin-left:2vw;white-space:nowrap;width:9vw;overflow:hidden;text-overflow:ellipsis;display:inline-block}.modal-adv-btn[_ngcontent-%COMP%]{float:right;padding:.5vh 1vw;background-color:#2d8ceb;font-size:1.5vh;min-width:3vw}.shortcut-key-info-header[_ngcontent-%COMP%]{font-size:1.2vw;color:#fff;text-align:center;margin-bottom:2vh}.table-box[_ngcontent-%COMP%]{width:100%;height:90%;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-collapse:collapse;text-align:center;color:#fff}th[_ngcontent-%COMP%]{top:0;background:#262a2e;color:#fff;border-top:none!important}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){color:#bebebe}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:60px;text-align:center;background:#262a2e}.validation-error[_ngcontent-%COMP%]{margin:1px;color:red}.validation-success[_ngcontent-%COMP%]{margin:1px;color:green}.label[_ngcontent-%COMP%]{color:#fff;font-size:2vh;margin-right:1vw}.label-file[_ngcontent-%COMP%]{padding-top:.5vh}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:.5vh}.deleteimg-btn[_ngcontent-%COMP%], .renameimg-btn[_ngcontent-%COMP%]{padding:1vh .5vw;background-color:#2d8ceb;margin-top:.7vw;margin-right:.7vw;font-size:2vh;min-width:7.5vw;float:right}.font-delete-img[_ngcontent-%COMP%]{line-height:4vh;font-size:1vw}.checkbox[_ngcontent-%COMP%]{height:1.5vh;width:1.5vw}']}),ct)},{path:"upload",component:v}],ft=((ut=function t(){c(this,t)}).\u0275mod=b.Fb({type:ut}),ut.\u0275inj=b.Eb({factory:function(t){return new(t||ut)},imports:[[h.d.forChild(ht)]]}),ut),bt=((st=function t(){c(this,t)}).\u0275mod=b.Fb({type:st}),st.\u0275inj=b.Eb({factory:function(t){return new(t||st)},imports:[[s.b,u.a,M.b]]}),st),dt=((lt=function t(){c(this,t)}).\u0275mod=b.Fb({type:lt}),lt.\u0275inj=b.Eb({factory:function(t){return new(t||lt)},imports:[[s.b,u.a,ft,bt]]}),lt)},WrcE:function(t,e,n){var o=n("PhXl");t.exports=function(){var t=s(regeneratorRuntime.mark(function t(e){var n,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,void 0!==e){t.next=3;break}return t.abrupt("return",new Uint8Array);case 3:if("string"!=typeof e){t.next=16;break}if(!/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)){t.next=8;break}n=atob(e.split(",")[1]).split("").map(function(t){return t.charCodeAt(0)}),t.next=14;break;case 8:return t.next=10,fetch(o(e));case 10:return i=t.sent,t.next=13,i.arrayBuffer();case 13:n=t.sent;case 14:t.next=21;break;case 16:if(t.t0=e instanceof File||e instanceof Blob,!t.t0){t.next=21;break}return t.next=20,r=e,new Promise(function(t,e){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(t){var n=t.target.error.code;e(Error("File could not be read! Code="+n))},n.readAsArrayBuffer(r)});case 20:n=t.sent;case 21:return t.abrupt("return",new Uint8Array(n));case 22:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Z8XC:function(t){t.exports=JSON.parse('{"_args":[["@ffmpeg/ffmpeg@0.10.1","G:\\\\Certifai\\\\Classifai_FrontEnd"]],"_from":"@ffmpeg/ffmpeg@0.10.1","_id":"@ffmpeg/ffmpeg@0.10.1","_inBundle":false,"_integrity":"sha512-ChQkH7Rh57hmVo1LhfQFibWX/xqneolJKSwItwZdKPcLZuKigtYAYDIvB55pDfP17VtR1R77SxgkB2/UApB+Og==","_location":"/@ffmpeg/ffmpeg","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@ffmpeg/ffmpeg@0.10.1","name":"@ffmpeg/ffmpeg","escapedName":"@ffmpeg%2fffmpeg","scope":"@ffmpeg","rawSpec":"0.10.1","saveSpec":null,"fetchSpec":"0.10.1"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/@ffmpeg/ffmpeg/-/ffmpeg-0.10.1.tgz","_spec":"0.10.1","_where":"G:\\\\Certifai\\\\Classifai_FrontEnd","author":{"name":"Jerome Wu","email":"jeromewus@gmail.com"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"description":"FFmpeg WebAssembly version","devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},"directories":{"example":"examples"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","keywords":["ffmpeg","WebAssembly","video"],"license":"MIT","main":"src/index.js","name":"@ffmpeg/ffmpeg","repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","lint":"eslint src","prepublishOnly":"npm run build","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js"},"types":"src/index.d.ts","version":"0.10.1"}')},bP5C:function(t,e,n){n("PhXl");var o=n("Z8XC").devDependencies;t.exports={corePath:"https://unpkg.com/@ffmpeg/core@".concat(o["@ffmpeg/core"].substring(1),"/dist/ffmpeg-core.js")}},kI6T:function(t,e){var n=!1,o=function(){};t.exports={logging:n,setLogging:function(t){n=t},setCustomLogger:function(t){o=t},log:function(t,e){o({type:t,message:e}),n&&console.log("[".concat(t,"] ").concat(e))}}},kRDC:function(t,e,n){n("ls82");var o=n("lCMN"),i=n("uN/h").fetchFile;t.exports={createFFmpeg:o,fetchFile:i}},lCMN:function(t,n,r){var a=r("xLGt"),c=a.defaultArgs,l=a.baseOptions,u=r("kI6T"),g=u.setLogging,h=u.setCustomLogger,f=u.log,b=r("8cPH"),d=r("G9FC"),p=r("uN/h"),v=p.defaultOptions,m=p.getCreateFFmpegCore,w=r("Z8XC").version,y=Error("ffmpeg.wasm is not ready, make sure you have completed load().");t.exports=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e(e(e({},l),v),n),a=r.log,u=r.logger,p=r.progress,x=o(r,["log","logger","progress"]),P=null,M=null,C=null,O=!1,_=p,k=function(t){var e=t.type,n=t.message;f(e,n),b(n,_),function(t){"FFMPEG_END"===t&&null!==C&&(C(),C=null,O=!1)}(n)};return g(a),h(u),f("info","use ffmpeg.wasm v"+w),{setProgress:function(t){_=t},setLogger:function(t){h(t)},setLogging:g,load:(t=s(regeneratorRuntime.mark(function t(){var e,n,o,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f("info","load ffmpeg-core"),null===P){t.next=2;break}throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");case 2:return f("info","loading ffmpeg-core"),t.next=5,m(x);case 5:return e=t.sent,n=e.createFFmpegCore,o=e.corePath,i=e.workerPath,r=e.wasmPath,t.next=12,n({mainScriptUrlOrBlob:o,printErr:function(t){return k({type:"fferr",message:t})},print:function(t){return k({type:"ffout",message:t})},locateFile:function(t,e){if("undefined"!=typeof window){if(void 0!==r&&t.endsWith("ffmpeg-core.wasm"))return r;if(void 0!==i&&t.endsWith("ffmpeg-core.worker.js"))return i}return e+t}});case 12:P=t.sent,M=P.cwrap("proxy_main","number",["number","number"]),f("info","ffmpeg-core loaded");case 15:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)}),isLoaded:function(){return null!==P},run:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(f("info","run ffmpeg command: "+e.join(" ")),null===P)throw y;if(O)throw Error("ffmpeg.wasm can only run one command at a time");return O=!0,new Promise(function(t){var n=[].concat(i(c),e).filter(function(t){return 0!==t.length});C=t,M.apply(void 0,i(d(P,n)))})},exit:function(){if(null===P)throw y;O=!1,P.exit(1),P=null,M=null,C=null},FS:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];if(f("info","run FS.".concat(t," ").concat(n.map(function(t){return"string"==typeof t?t:"<".concat(t.length," bytes binary file>")}).join(" "))),null===P)throw y;var i=null;try{var r;i=(r=P.FS)[t].apply(r,n)}catch(a){throw"readdir"===t?Error("ffmpeg.FS('readdir', '".concat(n[0],"') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')")):"readFile"===t?Error("ffmpeg.FS('readFile', '".concat(n[0],"') error. Check if the path exists")):Error("Oops, something went wrong in FS operation.")}return i}}}},ls82:function(t,e,n){var o=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(_){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=Object.create((e&&e.prototype instanceof g?e:g).prototype),r=new M(o||[]);return i._invoke=function(t,e,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return{value:void 0,done:!0}}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var c=y(a,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=s(t,e,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(t,n,r),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var u={};function g(){}function h(){}function f(){}var b={};b[i]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(C([])));p&&p!==e&&n.call(p,i)&&(b=p);var v=f.prototype=g.prototype=Object.create(b);function m(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){function o(i,r,a,c){var l=s(t[i],t,r);if("throw"!==l.type){var u=l.arg,g=u.value;return g&&"object"==typeof g&&n.call(g,"__await")?e.resolve(g.__await).then(function(t){o("next",t,a,c)},function(t){o("throw",t,a,c)}):e.resolve(g).then(function(t){u.value=t,a(u)},function(t){return o("throw",t,a,c)})}c(l.arg)}var i;this._invoke=function(t,n){function r(){return new e(function(e,i){o(t,n,e,i)})}return i=i?i.then(r,r):r()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,u;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v.constructor=f,f.constructor=h,h.displayName=c(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(w.prototype),w.prototype[r]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new w(l(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(v),c(v,a,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=C,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return a.type="throw",a.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=o}catch(i){Function("r","regeneratorRuntime = r")(o)}},"uN/h":function(t,e,n){var o=n("bP5C"),i=n("Ji6A"),r=n("WrcE");t.exports={defaultOptions:o,getCreateFFmpegCore:i,fetchFile:r}},xLGt:function(t,e){t.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:function(){},progress:function(){},corePath:""}}}}])}();