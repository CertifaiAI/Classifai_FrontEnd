<page-header [_onChange]="onChangeSchema"></page-header>
<div class="upper-container">
    <data-set-side-menu (_onClick)="toggleModalDisplay($event)"></data-set-side-menu>
    <div>
        <data-set-header></data-set-header>
        <data-set-card
            [_jsonSchema]="projectList"
            (_onClick)="onSubmit(false, $event)"
            (_onStarred)="onStarred($event)"
            (_onUpload)="uploadThumbnail($event)"
        ></data-set-card>
    </div>
</div>

<div [hidden]="!displayModal">
    <div class="model">
        <form [formGroup]="form">
            <div class="model-content">
                <div class="content-container">
                    <h1 class="content-header">{{ 'createNewProject' | translate }}</h1>
                    <div class="new-project-container">
                        <label class="label">{{ 'newProjectName' | translate }} </label>
                        <input
                            #refProjectName
                            class="input-style"
                            type="text"
                            placeholder="Enter project name"
                            formControlName="projectName"
                            [value]="inputProjectName"
                            (input)="onChange($event.target.value)"
                        />
                    </div>

                    <ng-container *ngIf="form.get('projectName')?.touched">
                        <div class="validation">
                            <span *ngIf="form.get('projectName')?.getError('exist')">
                                <small class="error-msg"> {{ 'projectNameExist' | translate }} </small>
                            </span>
                            <span *ngIf="form.get('projectName')?.getError('required')">
                                <small class="error-msg"> {{ 'projectNameRequired' | translate }} </small>
                            </span>
                        </div>
                    </ng-container>

                    <div class="select-folder-container">
                        <label class="label label-file">{{ 'labelListFile' | translate }} </label>
                        <label class="choose-file-btn">
                            {{ 'chooseFile' | translate
                            }}<input
                                type="file"
                                #labeltextfile
                                class="input-id"
                                accept=".txt"
                                (change)="onFileChange($event)"
                            />
                        </label>
                        <label class="filename" #labeltextfilename></label>
                    </div>
                    <div class="horizontal-line"></div>
                    <div class="model-button-container">
                        <button class="button-style create-btn" type="submit" (click)="onSubmit(true)">
                            {{ 'createButton' | translate }}
                        </button>
                        <button (click)="toggleModalDisplay(false)" class="button-style cancel-btn">
                            {{ 'cancelButton' | translate }}
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<spinner [_loading]="isLoading"></spinner>
